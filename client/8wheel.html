<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Wheel Generated</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
  <form action="\game.html">
    <div class="form-control">
      <progress id="bar" value="100" max="100"> 100% </progress>
      <h1>Here is your wheel</h1>
      <canvas id="myChart"></canvas>
      <button type="submit" value="submit">
        Go to the lobby
      </button>
    </div>
  </form>


  <script>
        let labels = window.localStorage.getItem("featureNames").split(",");
        let labelCompounds = [];
        for (let i in labels) {
          labelCompounds.push(labels[i] +": "+ window.localStorage.getItem(labels[i]).split(",")[0]);
        }
        Chart.defaults.font.size = 32
        const ctx = document.getElementById('myChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: labelCompounds,
                datasets: [{
                    label: '# of Votes',
                    data: window.localStorage.getItem("scores").split(","),
                    backgroundColor: [
                        '#e1338e',
                        '#ee6731',
                        '#fdca32',
                        '#49e430',
                        '#d23be7',
                        '#4e30f0',
                    ],
                    borderColor: [
                        '#ffffff',
                        '#ffffff',
                        '#ffffff',
                        '#ffffff',
                        '#ffffff',
                        '#ffffff',
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                animation: {
                    onComplete: function() {
                    }
                }          
            }
        });
      ctx.scale(1, 1);
    </script>
</body>
</html>
