<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Wheel Generated</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
  <form action="\9lobbyinstruction.html">
    <div class="form-control" style="text-align: center">
      <progress id="bar" value="100" max="100"> 100% </progress>
      <h1 style="margin-top: 25%; margin-bottom: 10%; font-size: 96px; text-align:center">Your Wheel</h1>
      <h1 style="margin-top: 25%; margin-bottom: 10%; font-size: 48px; text-align:center; color:#000000">This wheel represents the identities you have and their importance to you</h1>
      <canvas id="myChart" style="max-width: 50%; text-align: center; display: inline"></canvas>
      <button class="finalButton" type="submit" value="submit">
        Next
      </button>
    </div>
  </form>


  <script>
        let myStorage = window.sessionStorage
        let labels = myStorage.getItem("featureNames").split(",");
        let labelCompounds = [];
        for (let i in labels) {
          labelCompounds.push(labels[i] +": "+ myStorage.getItem(labels[i]).split(",")[0]);
        }
        Chart.defaults.font.size = 24
        Chart.defaults.plugins.legend.display = true;
        const ctx = document.getElementById('myChart').getContext('2d');
        const myChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: labelCompounds,
                datasets: [{
                    label: '# of Votes',
                    data: myStorage.getItem("scores").split(","),
                    backgroundColor: [
                        '#cc3f8d',
                        '#d15947',
                        '#c7873e',
                        '#34a359',
                        '#5482cc',
                        '#7755b5',
                    ],
                    borderColor: [
                        '#ffffff',
                        '#ffffff',
                        '#ffffff',
                        '#ffffff',
                        '#ffffff',
                        '#ffffff',
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                animation: {
                    onComplete: function() {
                    }
                }          
            }
        });
      ctx.scale(1, 1);
    </script>
</body>
</html>
